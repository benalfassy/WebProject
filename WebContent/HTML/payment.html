
<div class="container-fluid" ng-controller="paymentController">
	<div class="row">
		<div class="col-md-6">
			<div class="panel panel-default ">
				<div class="panel-heading">
					<div class="row">
						<div class="col-md-6">
							<h4>
								<b>Payment Details</b>
							</h4>
						</div>
						<div class="col-md-6" ng-init="creditCardValue=1">
							<label class="radio-inline"><input type="radio" ng-model="creditCardValue" value="1" name="optradio"><img class="img-responsive pull-right" src="Images/visa.png"></label> <label class="radio-inline"><input type="radio" ng-model="creditCardValue" value="2" name="optradio"><img class="img-responsive pull-right"
								src="Images/mastercard.png"></label> <label class="radio-inline"><input type="radio" ng-model="creditCardValue" value="3" name="optradio"><img class="img-responsive pull-right" src="Images/americanExpress.png"></label>
						</div>
					</div>
				</div>
				<div class="panel-body">
					<form role="form" name="form">
						<div class="row">
							<div class="col-md-12">
								<div class="form-group" ng-class="{ 'has-error': form.cardHolder.$dirty && form.cardHolder.$error.required }">
									<label for="cardHolder">CARD HOLDER</label> <input type="text" id="cardHolder" name="cardHolder" class="form-control" ng-model="cardHolder" required maxlength="50" /> <span ng-show="form.cardHolder.$dirty && form.cardHolder.$error.required" class="help-block">Card holder is required</span>
								</div>
							</div>
						</div>
						<div ng-switch on="creditCardValue">
							<div ng-switch-when="1">
								<div class="row">
									<div class="col-md-12">
										<div class="form-group" ng-class="{ 'has-error': form.creditCard.$dirty && (form.creditCard.$error.required || form.creditCard.$error.pattern ) }">
											<label>CARD NUMBER</label> <input type="text" id="creditCard" name="creditCard" ng-model="creditCard" class="form-control" ng-pattern="/^[4]\d{15}$/" required /> <span ng-show="form.creditCard.$dirty && form.creditCard.$error.required" class="help-block">Credit card number is required</span> <span
												ng-show="form.creditCard.$dirty && form.creditCard.$error.pattern" class="help-block">Wrong card format</span>
										</div>
									</div>
								</div>
							</div>
							<div ng-switch-when="2">
								<div class="row">
									<div class="col-md-12">
										<div class="form-group" ng-class="{ 'has-error': form.creditCard.$dirty && (form.creditCard.$error.required || form.creditCard.$error.pattern ) }">
											<label>CARD NUMBER</label> <input type="text" id="creditCard" name="creditCard" ng-model="creditCard" class="form-control" ng-pattern="/^[5][1-5]\d{14}$/" required /> <span ng-show="form.creditCard.$dirty && form.creditCard.$error.required" class="help-block">Credit card number is required</span> <span
												ng-show="form.creditCard.$dirty && form.creditCard.$error.pattern" class="help-block">Wrong card format</span>
										</div>
									</div>
								</div>
							</div>
							<div ng-switch-default>
								<div class="row">
									<div class="col-md-12">
										<div class="form-group" ng-class="{ 'has-error': form.creditCard.$dirty && (form.creditCard.$error.required || form.creditCard.$error.pattern ) }">
											<label>CARD NUMBER</label> <input type="text" id="creditCard" name="creditCard" ng-model="creditCard" class="form-control" ng-pattern="/^[3][4,7]\d{13}$/" required /> <span ng-show="form.creditCard.$dirty && form.creditCard.$error.required" class="help-block">Credit card number is required</span> <span
												ng-show="form.creditCard.$dirty && form.creditCard.$error.pattern" class="help-block">Wrong card format</span>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-7">
								<div class="form-group" ng-class="{ 'has-error': form.expiryDate.$dirty && (form.expiryDate.$error.required || form.expiryDate.$error.pattern || (!form.expiryDate.$error.required && !form.expiryDate.$error.pattern && !checkExpiryDate())) }">
									<label for="cardExpiry">EXPIRATION DATE</label> <input class="form-control" id="expiryDate" name="expiryDate" ng-model="expiryDate" type="text" ng-pattern="/^([0][1-9]|[1][0,1,2])[-/]\d{2}$/" placeholder="MM/YY" required /> <span ng-show="form.expiryDate.$dirty && form.expiryDate.$error.pattern" class="help-block">Wrong date</span> <span
										ng-show="form.expiryDate.$dirty && form.expiryDate.$error.required" class="help-block">Expiration date is required</span> <span ng-show="form.expiryDate.$dirty && !form.expiryDate.$error.required && !form.expiryDate.$error.pattern && !checkExpiryDate()" class="help-block">Expired</span>
								</div>
							</div>
							<div class="col-md-5 pull-right">
								<div ng-switch on="creditCardValue">
									<div ng-switch-when="1">
										<div class="form-group" ng-class="{ 'has-error': form.cvv.$dirty && (form.cvv.$error.required || form.cvv.$error.pattern ) }">
											<label>CVV</label> <input type="text" id="cvv" name="cvv" ng-model="cvv" class="form-control" ng-pattern="/^\d{3}$/" required /> <span ng-show="form.cvv.$dirty && form.cvv.$error.required" class="help-block">CVV is required</span> <span ng-show="form.cvv.$dirty && form.cvv.$error.pattern" class="help-block">Wrong cvv</span>
										</div>
									</div>
									<div ng-switch-when="2">
										<div class="form-group" ng-class="{ 'has-error': form.cvv.$dirty && (form.cvv.$error.required || form.cvv.$error.pattern ) }">
											<label>CVV</label> <input type="text" id="cvv" name="cvv" ng-model="cvv" class="form-control" ng-pattern="/^\d{3}$/" required /> <span ng-show="form.cvv.$dirty && form.cvv.$error.required" class="help-block">CVV is required</span> <span ng-show="form.cvv.$dirty && form.cvv.$error.pattern" class="help-block">Wrong cvv</span>
										</div>
									</div>
									<div ng-switch-default>
										<div class="form-group" ng-class="{ 'has-error': form.cvv.$dirty && (form.cvv.$error.required || form.cvv.$error.pattern ) }">
											<label>CVV</label> <input type="text" id="cvv" name="cvv" ng-model="cvv" class="form-control" ng-pattern="/^\d{4}$/" required /> <span ng-show="form.cvv.$dirty && form.cvv.$error.required" class="help-block">CVV is required</span> <span ng-show="form.cvv.$dirty && form.cvv.$error.pattern" class="help-block">Wrong cvv</span>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<button ng-disabled="form.$invalid" ng-click="onBuy()" class="subscribe btn btn-success btn-lg btn-block" type="button">Start Subscription</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<div class="col-md-6">
			<div class="panel panel-default ">
				<div align="left" class="panel-heading">
					<h4>
						<b>Order summary:</b>
					</h4>
				</div>
				<div class="panel-body">
					<div ng-repeat="book in cartBooks">
						<div class="row">
							<div class="col-md-6">
								<label>{{book.bookName}}</label>
							</div>
							<div class="col-md-6">
								<label>{{book.price}}$</label>
							</div>
						</div>
					</div>
					<br> <br> <br>
					<div class="row">
						<div class="col-md-6">
							<label>Payment Due:</label>
						</div>
						<div class="col-md-6">
							<h4>
								<label>{{amountToPay()}}$</label>
							</h4>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
